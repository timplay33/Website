---
title: Simple static blog with 11ty, DecapCMS and Netlify
tags: blog
layout: blog-base.hbs
excerpt: Deploying a simple static blog with 11ty, DecapCMS on Netlify for free
date: 2023-07-17
feature_image: https://theidler.de/content/images/2024/02/simple_static_blog_img0.png
---

<h2 id="getting-started">Getting started</h2>
<p>
	Before starting, you should make sure that the following requirements apply to
	you
</p>
<ul>
	<li>GitHub account</li>
	<li>Netlify account (can be created using your GitHub account)</li>
	<li>a coding editor (for example VS Code)</li>
	<li>Node.js installed on your PC</li>
	<li>Git installed on your PC</li>
</ul>
<p>
	Start up your favorite code editor (in this Tutorial, I'll be using
	<a href="https://code.visualstudio.com/"> VS Code </a>
	) and open a folder, where you want to create your Blog. Next up, open a
	terminal in your folder. In VS Code, press on "Terminal" at the top of the
	program and then on "new Terminal".
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img2-1.png"
		class="kg-image"
		alt="image of the Terminal tap"
		loading="lazy"
		width="339"
		height="150"
	/>
</figure>
<p>
	Now we want to tell Node.js more about our project, with the package.json. To
	create this file, type the following command in the Terminal.
</p>
<pre>
  <code class="language-shell">
npm init -y
  </code>
</pre>
<p>
	We also need 11ty to be installed in our project. Which is done with the
	command:
</p>
<pre>
  <code class="language-shell">
npm install @11ty/eleventy --save-dev
  </code>
</pre>
<p>
	Next up, open the package.json by clicking on it in the file explorer build
	into VS Code.
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img3.png"
		class="kg-image"
		alt="image of the package.js file"
		loading="lazy"
		width="544"
		height="391"
	/>
</figure>
<p>
	The package.json contains the basic information about your project, like the
	name, the version and also the commands the project runtime supports, listed
	under scripts. As you see, there is only one command called test. We want to
	get rid of this command and create our own. Replace the test command with the
	following two commands.
</p>
<p>scripts in package.json</p>
<pre>
  <code class="language-json">
"start": "eleventy --serve",
"build": "eleventy"
  </code>
</pre>
<p>
	Start will be used during development, and build will be to build the page for
	the deployment.
</p>
<p>
	After that, we need to tell 11ty more about our project by creating a new file
	called "
	<strong> .eleventy.js </strong>
	" and pasting the following code block into it.
</p>
<p>.eleventy.js</p>
<pre>
  <code class="language-javascript">
module.exports = function (eleventyConfig) &lbrace;

    // Return your Object options:
    return &lbrace;
        dir: &lbrace;
            input: "src",
            output: "public"
        &rbrace;
    &rbrace;
&rbrace;;
  </code>
</pre>
<p>
	The code block tells 11ty where the files you create will be (src directory)
	and where the build files will be (public directory).
</p>
<h2 id="src-directory-and-indexhtml-file">Src directory and index.html file</h2>
<p>
	now that 11ty knows where the files you create will be. Let's create them.
	Starting with the most important file the "index.html" this file will be the
	landing page of your Blog. At first, create a folder in the directory of your
	project called "
	<strong> src </strong>
	" in this directory will be all your code. In this folder, create the "
	<strong> index.html </strong>
	" and add the standard html5 template code in it.
</p>
<p>src/index.html</p>
<pre>
  <code class="language-html">
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
        &lt;title&gt;Document&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;

    &lt;/body&gt;
&lt;/html&gt;
  </code>
</pre>
<p>In the body tag, add a h1 headline with the main headline of your blog.</p>
<p>body of src/index.html</p>
<pre>
  <code class="language-html">
&lt;h1&gt;hello, world&lt;/h1&gt;
  </code>
</pre>
<p>
	After wards, save the file and type the command
	<strong> npm start </strong>
	to start the web server of your blog. In the Terminal there should be a link
	displayed.
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img4.png"
		class="kg-image"
		alt="image of the terminal showing the link to the webpage"
		loading="lazy"
		width="687"
		height="189"
		srcset="
			https://theidler.de/content/images/size/w600/2024/02/simple_static_blog_img4.png 600w,
			https://theidler.de/content/images/2024/02/simple_static_blog_img4.png           687w
		"
	/>
</figure>
<p>
	Paste the link into your browser and your h1 headline should be displayed on
	the page.
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img5.png"
		class="kg-image"
		alt="image of the h1 headline in the browser"
		loading="lazy"
		width="471"
		height="330"
	/>
</figure>
<h2 id="adding-style">Adding style</h2>
<p>
	to add style to your Blog, create a new file called "
	<strong> style.css </strong>
	" in the src directory and link in your index.html to your style by adding
</p>
<p>head of src/index.html</p>
<pre>
  <code class="language-html">
&lt;link rel="stylesheet" href="/style.css"&gt;
  </code>
</pre>
<p>between your head tags.</p>
<p>
	In your style.css, you can then apply a style to your Blog. For now, we will
	make the background of the page black and the text white by adding the
	following code in your
	<strong> style.css </strong>
	.
</p>
<p>style.css</p>
<pre>
  <code class="language-css">
body &lbrace;
    background-color: black;
    color: white;
&rbrace;
  </code>
</pre>
<p>
	Do not worry that the page in your browser has not applied this style yet. The
	problem is, that we have not yet tolled 11ty that we are using a style. To do
	so, we have to edit our "
	<strong> .eleventy.js </strong>
	" file to add a PassthroughCopy of the style.css file.
</p>
<p>.eleventy.js</p>
<pre>
  <code class="language-js">
module.exports = function (eleventyConfig) &lbrace;

eleventyConfig.addPassthroughCopy("./src/style.css");
	
	// Return your Object options:
	return &lbrace;
	dir: &lbrace;
		input: "src",
			output: "public"
			&rbrace;
		&rbrace;
	&rbrace;;
  </code>
</pre>
<p>Now the style should be applied.</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img6.png"
		class="kg-image"
		alt="image of the h1 headline in the browser with the style applied"
		loading="lazy"
		width="485"
		height="288"
	/>
</figure>
<h2 id="basehtml">Base.html</h2>
<p>
	in order to create a site wide layout, we will create a new file called "
	<strong> base.html </strong>
	" and move the html5 template code in to it. The base.html file must be
	created in a subdirectory of your src directory called "
	<strong> _includes </strong>
	".
</p>
<p>src/_includes/base.html</p>
<pre>
  <code class="language-html">
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
        &lt;link rel="stylesheet" href="style.css"&gt;
        &lt;title&gt;Document&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;hello, world&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;
  </code>
</pre>
<p>
	Now we need to modify this static code to be used as the base layout of your
	blog. Change the text in your title element to "
	<strong> &lbrace;&lbrace; title &rbrace;&rbrace; </strong>
	". By doing so, 11ty knows that the variable title should be placed here. We
	also need to tell 11ty that the content of your pages should be placed in the
	body tag of your base.html. This is done by adding the following into your
	body tag.
</p>
<p>body of src/_includes/base.html</p>
<pre>
  <code class="language-html">
&lt;main&gt;
    &lbrace;&lbrace; content &rbrace;&rbrace;
&lt;/main&gt;
  </code>
</pre>
<h3 id="modifying-indexhtml-to-use-the-base-layout">
	Modifying index.html to use the base layout
</h3>
<p>
	in your index.html, we now need to remove the standard html5 template. In your
	index file should only remain the code you added into your body tag. For me,
	it's only the h1 headline.
</p>
<p>/src/index.html</p>
<pre>
  <code class="language-html">
&lt;h1&gt;hello, world&lt;/h1&gt;
  </code>
</pre>
<p>
	Now that your index is only a single h1 headline, we need to tell 11ty to use
	the base.html layout we created earlier. At the top of your index add the
	following code blog which tells 11ty the title of the page as well as the
	layout this page should use. The title can be adjusted to your liking.
</p>
<p>top of /src/index.html</p>
<pre>
  <code class="language-html">
---
title: Home
layout: base.html
---
  </code>
</pre>
<p>
	If you now take a look at your page in your browser, it should look exactly
	like before. The advantage of using this base layout is, that you now can
	create multiple pages for your blog, that all use, for example, the same
	header or share one style between them.
</p>
<h2 id="creating-the-blog-page">Creating the blog page</h2>
<p>
	by now, we are using a base layout for your index.html file. Now we will
	create another file called
	<strong> blog.html </strong>
	which will show all the blog posts you will create. Start off by creating the
	new file in the src directory and pasting the information for 11ty.
</p>
<pre>
  <code class="language-html">
---
title: Blog
layout: base.html
---
  </code>
</pre>
<p>
	Once created, you can do your browser and add /blog to the end of your URL (
	<a href="http://localhost:8080/blog/"> http://localhost:8080/blog/ </a>
	), the browser should now show a new page empty with the title being "Blog".
	Below the information for 11ty now can create our blog page for this we will
	first create our fist blog post.
</p>
<h3 id="first-blog-post">First blog post</h3>
<p>
	In your src directory, create a new folder called "
	<strong> blog </strong>
	". All blog posts will be saved in this folder. In the new created folder,
	create your first blog post. I'll call it
	<strong> first-post.md </strong>
	the ending ".md" means that this file will be a markdown file.
</p>
<p>src/blog/first-post.md</p>
<pre>
  <code class="language-html">
---
title: first post
tags: post
layout: base.html
---

first post

this is my first post.
  </code>
</pre>
<p>
	The tags attribute is important for the next step. It allows you to later ask
	11ty for all entries with this tag. The text you place below the 11ty
	information will be the text displayed, once the blog post is opened.
</p>
<h3 id="list-all-blog-post-on-blog-page">List all blog post on blog page</h3>
<p>
	next up in your
	<strong> blog.html </strong>
	file, add the following code, which creates an unordered list with a list
	element for every blog entry that has the tag post in the information part.
</p>
<pre>
  <code class="language-html">
&lt;div&gt;
    &lt;h1&gt;Recent articles&lt;/h1&gt;
    &lt;ul&gt;
        &lbrace;%- for post in collections.post | reverse -%&rbrace;
            &lt;li&gt;
                &lt;a href="&lbrace;&lbrace;post.url&rbrace;&rbrace;"&gt;&lt;h2&gt;&lbrace;&lbrace;post.data.title&rbrace;&rbrace;&lt;/h2&gt;&lt;/a&gt;
            &lt;/li&gt;
        &lbrace;%- endfor -%&rbrace;
    &lt;/ul&gt;
&lt;/div&gt;
  </code>
</pre>
<p>
	Once saved, the blog page in your browser should update and show the title of
	your newly created post. Clicking the title brings you to a new page
	displaying the content of your post.
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img7.png"
		class="kg-image"
		alt="image of the blog page displaying the newly created post"
		loading="lazy"
		width="452"
		height="285"
	/>
</figure>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img8.png"
		class="kg-image"
		alt="image of the contents of the blog post"
		loading="lazy"
		width="413"
		height="236"
	/>
</figure>
<h2 id="publishing-the-blog">Publishing the blog</h2>
<p>
	Now that we have a basic blog site, let's publish it using GitHub and Netlify.
	go into your terminal in VS Code and stop the running task by pressing CTRL +
	C and accept it with "y". First, we need a "
	<strong> .gitignore </strong>
	" file, which tells git which files should not be uploaded. Simply copy this
	standard ".gitignore" for 11ty.
</p>
<p>.gitignore</p>
<pre>
  <code class="language-.gitignore">
# dependencies installed by npm
node_modules

# build artefacts
public
css

# secrets and errors
.env
.log

# macOS related files
.DS_Store
  </code>
</pre>
<p>
	then initialize the git repository by typing the following in the terminal.
</p>
<pre>
  <code class="language-shell">
git init -b main
  </code>
</pre>
<p>
	in the sidebar VS Code a modification will appear, click on in. in the new
	window type Initial commit in the text box and hit the Commit button. next up,
	the button says Publish Branch, hit the button again.
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img9.png"
		class="kg-image"
		alt="image of VS Code commiting the repository"
		loading="lazy"
		width="323"
		height="539"
	/>
</figure>
<p>
	Select a name for the repository and select to set the repository
	<strong> public </strong>
	.
</p>
<h3 id="adding-the-blog-to-netlify">Adding the Blog to Netlify</h3>
<p>
	Next up Netlify! head over to
	<a href="https://app.netlify.com/"> app.netlify.com </a>
	and press the button: "Add new site" and select "Import existing project".
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img10.png"
		class="kg-image"
		alt="image of Netlify adding a new site"
		loading="lazy"
		width="417"
		height="257"
	/>
</figure>
<p>On the next page, select GitHub.</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img11.png"
		class="kg-image"
		alt="image of selection github"
		loading="lazy"
		width="767"
		height="531"
		srcset="
			https://theidler.de/content/images/size/w600/2024/02/simple_static_blog_img11.png 600w,
			https://theidler.de/content/images/2024/02/simple_static_blog_img11.png           767w
		"
		sizes="(min-width: 720px) 720px"
	/>
</figure>
<p>
	Login with the same GitHub account, on which you published the repository
	earlier, and select the repository in the following window. Next up are the
	build settings. On this window, it is important to input the
	<strong> exact values </strong>
	under basic build settings. For build command input the command we created
	earlier "
	<strong> npm run build </strong>
	" and for the publishing directory select "
	<strong> public </strong>
	". The Base directory should be left empty. Then hit "Deploy site". Once the
	site has been deployed a link will be shown, click on that link and your
	simple blog should be visible. This link is the link you can share with the
	world.
</p>
<h2 id="adding-decapcms">Adding DecapCMS</h2>
<p>
	Now that our basic blog site is online. Let's add a content management system
	(short CMS). To do so, create a new folder in the src directory called "
	<strong> admin </strong>
	". For DecapCMS to work, we need two files in this directory: an
	<strong> index.html </strong>
	and a
	<strong> config.yml </strong>
	. Let's start with the index.html by copying the following code found on the
	<a href="https://decapcms.org/"> DecapCMS site. </a>
</p>
<p>src/admin/index.html</p>
<pre>
  <code class="language-html">
&lt;!doctype html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset="utf-8" /&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
        &lt;meta name="robots" content="noindex" /&gt;
        &lt;title&gt;Content Manager&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!-- Include the script that builds the page and powers Decap CMS --&gt;
        &lt;script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
  </code>
</pre>
<p>Next up, we need to configure DecapCMS in your config.yml.</p>
<p>src/admin/config.yml</p>
<pre>
  <code class="language-yaml">
backend:
    name: git-gateway
    branch: main
    media_folder: "public/assets/blog"
    public_folder: "/assets/blog" 
    collections:
        - name: "blog" 
    label: "Blog"
    folder: "src/blog"
    create: true
    slug: "&lbrace;&lbrace;year&rbrace;&rbrace;-&lbrace;&lbrace;month&rbrace;&rbrace;-&lbrace;&lbrace;day&rbrace;&rbrace;-&lbrace;&lbrace;slug&rbrace;&rbrace;"
    fields:
        - &lbrace;label: "Title", name: "title", widget: "string"&rbrace;
        - &lbrace;label: "Description", name: "description", widget: "string"&rbrace;
        - &lbrace;label: "Tags", name: "tags", widget: "list", default: ["post"] &rbrace;
        - &lbrace;label: "Body", name: "body", widget: "markdown"&rbrace;
  </code>
</pre>
<p>
	At the start of the file we are telling DecapCMS which backend we are going to
	use for us, it's going to be Netlify with GitHub. the next two lines declare
	the folder where our images for the articles are going to be. then we add a
	collection with the name of "
	<strong> blog </strong>
	" and a label of
	<strong> Blog </strong>
	. your blog articles are in the folder
	<strong> src/blog </strong>
	. we allow the CMS to create articles and say how to name the article files.
	The fields declare the data we want in the post.
</p>
<p>
	In the ".eleventy.js" file, we then have to allow the config.yml file. Simply
	add this line below the line for the style.css
</p>
<p>.eleventy.js</p>
<pre>
  <code class="language-javascript">
eleventyConfig.addPassthroughCopy("./src/admin/");
  </code>
</pre>
<h3 id="authentication-with-netlify">Authentication with Netlify</h3>
<p>
	Now head back over to the Netlify dashboard of your blog and click on "
	<strong> site configuration </strong>
	". In the sidebar, select "
	<strong> Identity </strong>
	" and "
	<strong> Enable Identity </strong>
	". under Registration, change the Registration preferences to
	<strong> invite only </strong>
	. Scroll down and enable Git Gateway.
</p>
<p>
	Head over to
	<strong> Build &amp; deploy </strong>
	&gt;
	<strong> Post processing </strong>
	and add the following code as a code injection before the closing head tag.
</p>
<pre>
  <code class="language-html">
&lt;script src="https://identity.netlify.com/v1/netlify-identity-widget.js"&gt;&lt;/script&gt;
  </code>
</pre>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img12.png"
		class="kg-image"
		alt="Image of code injection"
		loading="lazy"
		width="1077"
		height="597"
		srcset="
			https://theidler.de/content/images/size/w600/2024/02/simple_static_blog_img12.png   600w,
			https://theidler.de/content/images/size/w1000/2024/02/simple_static_blog_img12.png 1000w,
			https://theidler.de/content/images/2024/02/simple_static_blog_img12.png            1077w
		"
		sizes="(min-width: 720px) 720px"
	/>
</figure>
<p>
	Next, head to the sidebar on the far left and Select
	<strong> Integrations </strong>
	&gt;
	<strong> Identity </strong>
	and click on view in the Netlify Identity box. In the right top, you can
	<strong> invite users </strong>
	to enter your own e-mail address. In your mail, click on
	<strong> Accept the invite </strong>
	.
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img13.png"
		class="kg-image"
		alt="image of invitation"
		loading="lazy"
		width="775"
		height="242"
		srcset="
			https://theidler.de/content/images/size/w600/2024/02/simple_static_blog_img13.png 600w,
			https://theidler.de/content/images/2024/02/simple_static_blog_img13.png           775w
		"
		sizes="(min-width: 720px) 720px"
	/>
</figure>
<p>In the new window, set a password for your account.</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img14.png"
		class="kg-image"
		alt="image of password creation"
		loading="lazy"
		width="517"
		height="346"
	/>
</figure>
<p>
	Next up, go to the root of your blog site and add /admin to the end of the
	domain. The Content Manager from DecapCMS shroud appear, and you can start
	editing/creating new blog entries.
</p>
<figure class="kg-card kg-image-card">
	<img
		src="https://theidler.de/content/images/2024/02/simple_static_blog_img15.png"
		class="kg-image"
		alt="image of the DecapCMS interface"
		loading="lazy"
		width="1921"
		height="923"
		srcset="
			https://theidler.de/content/images/size/w600/2024/02/simple_static_blog_img15.png   600w,
			https://theidler.de/content/images/size/w1000/2024/02/simple_static_blog_img15.png 1000w,
			https://theidler.de/content/images/size/w1600/2024/02/simple_static_blog_img15.png 1600w,
			https://theidler.de/content/images/2024/02/simple_static_blog_img15.png            1921w
		"
		sizes="(min-width: 720px) 720px"
	/>
</figure>
<p>Thanks for reading!</p>
<p>
	The finished project can be seen on my GitHub at
	<a href="https://github.com/timplay33/Tutorials/tree/main/simple-static-blog">
		https://github.com/timplay33/Tutorials/tree/main/simple-static-blog
	</a>
</p>
<p>
	more of my stuff at
	<a href="/"> https://theidler.de </a>
</p>
